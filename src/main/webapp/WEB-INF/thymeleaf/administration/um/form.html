<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
	layout:decorator="decorators/theme">
<head>
<title>Pengguna</title>
</head>
<body>
	<div layout:fragment="content">
	<form id="register" method="POST" th:action="@{${url}}" th:object="${userForm}" enctype="multipart/form-data">
				
			<div class="row-fluid">
						<div class="span12">
							<div class="block">
								<div class="head">
									<h2>Butiran Akaun</h2>
								</div>
								<div class="content np">
									<div class="controls-row">
										<div class="span3">
											<img th:src="@{/resources/img/examples/users/no-photo.jpg}" class="img-polaroid" style="margin-bottom: 5px;" th:if="${userForm.photo == null}" />
												 <img th:src="${userForm.photo}" class="img-polaroid" style="margin-bottom: 5px;" th:if="${userForm.photo != null}"/>
										</div>
										<div class="span9">
											<p class="np nm">
												<strong>Fail:</strong> <span class="muted" id="imgPath"></span>
											</p>
											<input type="file" th:field="*{file}" class="uni" />
										</div>
									</div>
									<div class="controls-row">
										<div class="controls-row">
											<div class="span3">Nama <span class="text-error">*</span> :</div>
											<div class="span9">
												<input type="text"  th:field="*{name}" />
											</div>
										</div>
										<div class="controls-row">
											<div class="span3">ID Pengguna <span class="text-error">*</span> :</div>
											<div class="span9">
												<input type="text" id="username"  th:field="*{username}" />
											</div>
										</div>
										<div class="controls-row" th:if="${userForm.username !=null}">
											<div class="span3">Kata Laluan <span class="text-error">*</span> :</div>
											<div class="span9">
												<button type="button" class="btn btn-danger" id="resetPassword">Setkan Semula</button>
												<span class="help-inline text-warning">Kata laluan baru akan dihantar kepada email pengguna</span>
											</div>
										</div>
										
									   <div class="controls-row" th:if="${userForm.username ==null}">
											<div class="span3">Kata Laluan :</div>
											<div class="span9">
												<input type="password"  th:field="*{password}" />
											</div>
										</div>
										 <div class="controls-row" th:if="${userForm.username ==null}">
                                                <div class="span3">Sahkan Kata Lauan :</div>
                                                <div class="span9">
                                                    <input type="password" class="validate[equals[password]]"/>
                                                </div>
                                            </div>
										
										
                                       <div class="controls-row">
										<div class="span3">Role <span class="text-error">*</span> :</div>
										<div class="span9">
											<select  th:field="*{role.id}">
										<option value="">- Select One -</option>
										<option th:each="obj : ${roleList}" th:text="${obj.name}" th:value="${obj.id}"></option>							
									        </select>
										</div>
									  </div>
										<div class="controls-row">
											<div class="span3">Email <span class="text-error">*</span> :</div>
											<div class="span9">
												<input type="text" class="validate[email]" th:field="*{email}" />

											</div>

										</div>
										<div class="controls-row" th:if="${userForm.lastIp != null}">
											<div class="span3">IP Address Terakhir :</div>
											<div class="span9">
												 <span th:text="${userForm.lastIp}"></span>

											</div>

										</div>
										
										<div class="controls-row" th:if="${userForm.lastLogin != null}">
											<div class="span3">Tarikh Login Terakhir :</div>
											<div class="span9">
												<span th:text="${#dates.format(userForm.lastLogin, 'dd/MM/yyyy HH:mm a')}"></span>
											</div>

										</div>
										 <div class="controls-row">
                                            <div class="span3">Aktif :</div>
                                            <div class="span9">
                                                <input type="checkbox" class="ibutton" th:field="*{status}" />
                                            </div>
                                        </div>
									
										
										
										
										
										
										
									</div>



								</div>
							</div>

							<div class="block">
								<div class="head">
									<h2>Profail Pengguna</h2>
								</div>
								<div class="content np">
								  <div class="controls-row">
										<div class="span3">Kategori Pengguna <span class="text-error">*</span> :</div>
										<div class="span9">
											<select id="personCategory" th:field="*{personCategory.id}">
										<option value="">- Select One -</option>
										<option th:each="obj : ${personCategoryList}" th:text="${obj.name}" th:value="${obj.id}"></option>							
									</select>
										</div>
									</div>
									<!--  div class="controls-row">
										<div class="span3">Company :</div>
										<div class="span9">
											<input type="text" value="" th:field="*{company}" />
										</div>
									</div-->
										<div class="controls-row">
										<div class="span3">No. Pengenalan <span class="text-error">*</span> :</div>
										<div class="span9">
											<input type="text" value="" th:field="*{icNo}" />
											<span class="help-inline"><span class="text-success">Contoh : (841210-XX-XXXX)</span></span>
										</div>
									</div>
									<div class="controls-row felda">
										<div class="span3">No. Peneroka :</div>
										<div class="span9">
											<input type="text" id="settlerNo" th:field="*{settlerNo}" />
										</div>
									</div>
									<div class="controls-row staffB">
										<div class="span3">ID Staff :</div>
										<div class="span9">
											<input type="text" id="staffNo" value="" th:field="*{staffNo}" />
										</div>
									</div>
											 <div class="controls-row felda">
								<div class="span3">Wilayah :</div>
								<div class="span9">
									<select id="region" th:field="*{region.id}" >
										<option value="">- Sila Pilih -</option>
										<option th:each="obj : ${regionList}" th:text="${obj.name}" th:value="${obj.id}"></option>							
									</select>
									
								</div>
							</div>
							
							
							<div class="controls-row felda">
										<div class="span3">Tanah Rancangan :</div>
										<div class="span9">
											<select id="plan" th:field="*{plan.id}">
										<option value="">- Sila Pilih -</option>
										<option th:each="obj : ${planList}" th:text="${obj.name}" th:value="${obj.id}"></option>	
									</select>
										</div>
									</div>
									<div class="controls-row">
										<div class="span3">Alamat :</div>
										<div class="span4">
											<div class="input-prepend">
												<input type="text" value="" th:field="*{address1}" />
											</div>
											<div class="input-append">
												<input type="text" value="" th:field="*{address2}" />
											</div>
										</div>
									</div>
									<div class="controls-row">
										<div class="span3">Bandar :</div>
										<div class="span9">
											<input type="text" value="" th:field="*{city}" />
										</div>
									</div>
									<div class="controls-row">
										<div class="span3">Negara :</div>
										<div class="span9">
											<select id="country" th:field="*{country.id}">
										<option value="">- Sila Pilih -</option>
										<option th:each="obj : ${countryList}" th:text="${obj.country}" th:value="${obj.id}"></option>							
									</select>
										</div>
									</div>
									<div class="controls-row">
										<div class="span3">Negeri :</div>
										<div class="span9">
											<select id="state" th:field="*{state.id}">
										<option value="">- Sila Pilih -</option>
										<option th:each="obj : ${stateList}" th:text="${obj.name}" th:value="${obj.id}"></option>	
									</select>
										</div>
									</div>
									<div class="controls-row">
										<div class="span3">No Telefon (M) :</div>
										<div class="span9">
											<input type="text"  th:field="*{mobileNo}" />
											<span class="help-inline"><span class="text-success">Contoh : (01X-XXXXXXX)</span></span>
										</div>
									</div>
									<div class="controls-row">
										<div class="span3">No. Telefon (H/O) :</div>
										<div class="span9">
											<input type="text"  th:field="*{phoneNo}" />
											<span class="help-inline"><span class="text-success">Contoh : (0X-XXXXXXX)</span></span>
										</div>
									</div>
								
									<div class="controls-row">
										<div class="span3">No Fax :</div>
										<div class="span9">
											<input type="text" th:field="*{faxNo}" />

										</div>
									</div>
									
										<div class="controls-row staffB">
                                            <div class="span3">Jabatan :</div>
                                            <div class="span9">
                                                 <select id="group" th:field="*{groups}" >
                                                 <option value="">- Select One -</option>
                                                 <option th:each="obj : ${groupList}" th:text="${obj.name}" th:value="${obj.id}"></option>
                                                 </select>
                                            </div>
                                        </div>
										 <div class="controls-row staffB" id="regionBlock">
								<div class="span3">Region :</div>
								<div class="span9">
									<select id="regionStaff" th:field="*{regionStaff.id}" >
										<option value="">- Select One -</option>
										<option th:each="obj : ${regionList}" th:text="${obj.name}" th:value="${obj.id}"></option>							
									</select>
									
								</div>
							</div>
							
							
							


								</div>
							</div>


						</div>

					</div>
	
<div class="row-fluid">
                            
                            <div class="span12">
                                <div class="block">
			<div class="head">
                                             
                        <div class="side fr">
                        <button class="btn btn-warning" id="closeBtn">Tutup</button>
                            <button class="btn btn-primary btn-request" id="submitForm" type="submit">Simpan</button>
                            
                        </div>                        
                    </div>
			</div>
			</div>
			</div>




</form>

	</div>
	
			<div layout:fragment="modal">

<div class="dialog" id="confirm" style="display: none;" title="Reset Confirmation">
        <p>Do you want to reset the password?</p>
    </div> 
<div class="dialog" id="sent" style="display: none;" title="Reset Confirmation">
        <p>Password has been sent to account's owner</p>
    </div>
    <div class="dialog" id="failed" style="display: none;" title="Reset Confirmation">
        <p>System Error. Please Contact Administrator</p>
    </div>

</div>
	
	
	<div layout:fragment="javascript_endpage">
		<script type='text/javascript' th:src="@{/resources/js/select2/select2.min.js}"></script>
		<script type='text/javascript' th:src="@{/resources/js/uniform/jquery.uniform.min.js}"></script>
		<script type='text/javascript'
			th:src="@{/resources/js/tagsinput/jquery.tagsinput.min.js}"></script>
		<script type='text/javascript'
			th:src="@{/resources/js/multiselect/jquery.multi-select.js}"></script>
		<script type='text/javascript' th:src="@{/resources/js/ibutton/jquery.ibutton.min.js}"></script>
		<script type='text/javascript' th:src="@{/resources/js/colorpicker/colorpicker.js}"></script>
		<script type='text/javascript'
			th:src="@{/resources/js/timepicker/jquery-ui-timepicker-addon.js}"></script>
	
	
	
    <script type='text/javascript' th:src="@{/resources/js/validationengine/languages/jquery.validationEngine-en.js}"></script>
    <script type='text/javascript' th:src="@{/resources/js/validationengine/jquery.validationEngine.js}"></script>
    <script type='text/javascript' th:src="@{/resources/js/maskedinput/jquery.maskedinput.min.js}"></script>
    <script type='text/javascript' th:src="@{/javascript/utils/load-combo-box.js}"></script>
    <script type='text/javascript' th:src="@{/javascript/administration/um/form.js}"></script>
  
	
		<script type="text/javascript">
			$(document).ready(function() {
				$("#closeBtn")
			      .click(function() {
			           // history.back();
			           window.location.replace(document.referrer);
			            return false;
			      });
			});
			
			
			
		</script>

	</div>
</body>
</html>